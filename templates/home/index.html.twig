{% extends 'base.html.twig' %}

{% block title %}Bienvenue sur SF Commerce{% endblock %}

{% block body %}
    <section style="text-align: center; margin-bottom: 4rem;">
        <h1 style="font-size: 3rem; font-weight: 800; margin-bottom: 1rem; letter-spacing: -0.05em;">Sublimez votre quotidien</h1>
        <p style="font-size: 1.25rem; color: var(--color-text-muted); margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
            Découvrez notre sélection exclusive d'indispensables premium conçus pour l'individu moderne.
        </p>
        <a href="{{ path('app_product_index') }}" class="btn btn-primary" style="font-size: 1.1rem; padding: 0.75rem 2rem;">
            Voir la collection
        </a>
    </section>

    <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Dernières nouveautés</h2>
    
    <div class="grid md-grid-cols-2 lg-grid-cols-4">
        {% for product in products %}
            <article class="card">
                {% if product.imageName %}
                    <img src="{{ asset('images/products/' ~ product.imageName) }}" alt="{{ product.name }}" class="card-img">
                {% else %}
                    <img src="https://placehold.co/400x300?text={{ product.name|url_encode }}" alt="{{ product.name }}" class="card-img">
                {% endif %}
                <div class="card-body">
                    <div style="font-size: 0.875rem; color: var(--color-text-muted); margin-bottom: 0.5rem;">
                        {{ product.category ? product.category.name : 'Sans catégorie' }}
                    </div>
                    <h3 class="card-title">
                        <a href="{{ path('app_product_detail', {id: product.id}) }}">{{ product.name }}</a>
                    </h3>
                    <div class="card-price">{{ product.price }} €</div>
                    <div style="margin-top: 1rem;">
                        <a href="{{ path('app_cart_add', {id: product.id}) }}" class="btn btn-primary btn-block">
                            Ajouter au panier
                        </a>
                    </div>
                </div>
            </article>
        {% else %}
            <p>Aucun produit trouvé. Commencez par en ajouter !</p>
        {% endfor %}
    </div>
{% endblock %}
